Object.extend=function(n,t,i){for(var r in t)(i!=!1||n[r]==null)&&(n[r]=t[r]);return n};Object.extend(Function.prototype,{apply:function(n,t){var f,u="__fapply",i,r;for(typeof n!="object"&&(n={}),n[u]=this,i="r = o."+u+"(",r=0;r<t.length;r++)r>0&&(i+=","),i+="a["+r+"]";return i+=");",eval(i),delete n[u],f},bind:function(n){var i,r,t,u;return(Function.__objs||(Function.__objs=[],Function.__funcs=[]),i=n.__oid,i||(Function.__objs[i=n.__oid=Function.__objs.length]=n),r=this,t=r.__fid,t||(Function.__funcs[t=r.__fid=Function.__funcs.length]=r),n.__closures||(n.__closures=[]),u=n.__closures[t],u)?u:(n=null,r=null,Function.__objs[i].__closures[t]=function(){return Function.__funcs[t].apply(Function.__objs[i],arguments)})}},!1);Object.extend(Array.prototype,{push:function(n){this[this.length]=n},addRange:function(n){if(n.length>0)for(var t=0;t<n.length;t++)this.push(n[t])},clear:function(){return this.length=0,this},shift:function(){var t,n;if(this.length==0)return null;for(t=this[0],n=0;n<this.length-1;n++)this[n]=this[n+1];return this.length--,t}},!1);Object.extend(String.prototype,{trimLeft:function(){return this.replace(/^\s*/,"")},trimRight:function(){return this.replace(/\s*$/,"")},trim:function(){return this.trimRight().trimLeft()},endsWith:function(n){return this.length==0||this.length<n.length?!1:this.substr(this.length-n.length)==n},startsWith:function(n){return this.length==0||this.length<n.length?!1:this.substr(0,n.length)==n},split:function(n){var i=[],r,t;if(this.length==0)return i;for(r=0,t=0;t<this.length;t++)this.charAt(t)==n&&(i.push(this.substring(r,t)),r=++t);return i.push(s.substr(r)),i}},!1);Object.extend(String,{format:function(n){for(var t=1;t<arguments.length;t++)n=n.replace("{"+(t-1)+"}",arguments[t]);return n},isNullOrEmpty:function(n){return n==null||n.length==0?!0:!1}},!1);typeof addEvent=="undefined"&&(addEvent=function(n,t,i,r){if(n==null)return!1;if(n.addEventListener)return n.addEventListener(t,i,r),!0;if(n.attachEvent)return n.attachEvent("on"+t,i);try{n["on"+t]=i}catch(f){}});typeof removeEvent=="undefined"&&(removeEvent=function(n,t,i,r){if(n==null)return!1;if(n.removeEventListener)return n.removeEventListener(t,i,r),!0;if(n.detachEvent)n.detachEvent("on"+t,i);else try{n["on"+t]=function(){}}catch(u){}});